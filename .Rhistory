cna_df <- read_csv("data_visual/cnv.csv")
library(tidyverse)
cna_df <- read_csv("data_visual/cnv.csv")
View(cna_df)
head(cna_df)
cna_df <- read_csv("data_visual/cnv.csv")
expr_df <- read_csv("data_visual/gene_expression.csv")
mutation_df <- read_csv("data_visual/mutation.csv")
methylation_df <- read_csv("data_visual/methylation.csv")
library(M3C)
install.packages("M3C")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("M3C")
library(tidyverse)
library(M3C)
dim(cna_df)
dim(expr_df)
test <- M3C(cna_df)
test <- M3C(expr_df)
test <- M3C(methylation_df)
cna_df <- read_csv("data_visual/cnv.csv", col_types = d)
cna_df
test <- M3C(as.dataframe(methylation_df))
test <- M3C(as.data.frame(methylation_df))
install.packages("ConsensusClusterPlus")
BiocManager::install("ConsensusClusterPlus")
library(ALL)
data(ALL)
d = exprs(ALL)
d
head(d)
dim(d)
mads=apply(d, 1, mad)
d = sweep(d,1, apply(d,1,median,na.rm=T))
dim(cna_df)
dim(t(cna_df))
results = ConsensusClusterPlus(t(cna_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title=title,clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
library(ConsensusClusterPlus)
results = ConsensusClusterPlus(t(cna_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title=title,clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
t(cna_df)
t(as.matrix(cna_df))
as.matrix(cna_df)
cna_df.values
data.matrix(cna_df)
as.matrix(cna_df)
cna_df[1:, ]
cna_df[1::, ]
cna_df[, ]
cna_df[, 1]
cna_df[, 1::]
cna_df[, 1:]
cna_df[, c(1:)]
cna_df[, c(1::)]
c(1:ncol(cna_df))
cna_df[, c(2:ncol(cna_df))]
cna_df[, c(1:ncol(cna_df))]
cna_df = cna_df[, c(1:ncol(cna_df))]
results = ConsensusClusterPlus(t(cna_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title=title,clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
cna_df
cna_df = cna_df[, c(1:ncol(cna_df))]
cna_df
cna_df = cna_df[, c(2:ncol(cna_df))]
cna_df
results = ConsensusClusterPlus(t(cna_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title=title,clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
expr_df = expr_df[, c(2:ncol(expr_df))]
results = ConsensusClusterPlus(t(expr_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results
results$consensusMatrix
View(results)
results[[1]]
results[[2]]
results[[3]]
results[[4]]
results[[5]]
results[[6]]
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusTree"]])
heatmap(results[[2]][["consensusMatrix"]])
expr_df = t(expr_df[, c(2:ncol(expr_df))])
expr_df <- read_csv("data_visual/gene_expression.csv")
mads=apply(d,1,mad)
expr_df = t(expr_df[, c(2:ncol(expr_df))])
expr_df=expr_df[rev(order(mads))[1:5000],]
results = ConsensusClusterPlus(t(expr_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
expr_df = sweep(expr_df,1, apply(d,1,median,na.rm=T))
results = ConsensusClusterPlus(t(expr_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
expr_df <- read_csv("data_visual/gene_expression.csv")
mads=apply(d,1,mad)
expr_df = t(expr_df[, c(2:ncol(expr_df))])
expr_df=expr_df[rev(order(mads))[1:5000],]
expr_df = sweep(expr_df,1, apply(expr_df,1,median,na.rm=T))
results = ConsensusClusterPlus(t(expr_df),maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusMatrix"]])
results = ConsensusClusterPlus(expr_df,maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusMatrix"]])
cna_df <- read_csv("data_visual/cnv.csv")
expr_df <- read_csv("data_visual/gene_expression.csv")
mutation_df <- read_csv("data_visual/mutation.csv")
methylation_df <- read_csv("data_visual/methylation.csv")
expr_df = t(expr_df[, c(2:ncol(expr_df))])
results = ConsensusClusterPlus(expr_df,maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusMatrix"]])
expr_df = t(expr_df[, c(2:ncol(expr_df))])
expr_df <- read_csv("data_visual/gene_expression.csv")
expr_df = t(expr_df[, c(2:ncol(expr_df))])
results = ConsensusClusterPlus(expr_df,maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusMatrix"]])
expr_df
results = ConsensusClusterPlus(expr_df,maxK=6,reps=50,pItem=0.8,pFeature=1,
title="title",clusterAlg="hc",distance="pearson",seed=1262118388.71279,plot="png")
results[[2]][["consensusTree"]]
heatmap(results[[2]][["consensusMatrix"]])
heatmap(results[[4]][["consensusMatrix"]])
heatmap(results[[5]][["consensusMatrix"]])
heatmap(results[[6]][["consensusMatrix"]])
heatmap(results[[7]][["consensusMatrix"]])
heatmap(results[[1]][["consensusMatrix"]])
heatmap(results[[2]][["consensusMatrix"]])
heatmap(results[[3]][["consensusMatrix"]])
encoded_df <- read_csv('ccl_encoded.csv')
library(tidyverse)
library(M3C)
library(ALL)
library(ConsensusClusterPlus)
encoded_df <- read_csv('ccl_encoded.csv')
encoded_df <- t(encoded_df[, c(2:ncol(encoded_df))])
encoded_df
results <- ConsensusClusterPlus(encoded_df, maxK = 6, reps = 50,
pItem = 0.8, pFeature = 1,
title = "title", clusterAlg = "hc",
distance = "pearson", seed = 1262118388.71279,
plot = "png")
results[[2]][["consensusTree"]]
heatmap(results[[3]][["consensusMatrix"]])
results[[3]][["consensusTree"]]
heatmap(results[[3]][["consensusMatrix"]])
heatmap(results[[4]][["consensusMatrix"]])
heatmap(results[[6]][["consensusMatrix"]])
results <- ConsensusClusterPlus(encoded_df, maxK = 10, reps = 50,
pItem = 0.8, pFeature = 1,
title = "title", clusterAlg = "hc",
distance = "pearson", seed = 1262118388.71279,
plot = "png")
results[[4]][["consensusTree"]]
heatmap(results[[1]][["consensusMatrix"]])
expr_df <- read_csv("data_visual/gene_expression.csv")
# Different from python, col is sample, rows are features
expr_df <- t(expr_df[, c(2:ncol(expr_df))])
mads <- apply(d, 1, mad)
expr_df <- expr_df[rev(order(mads))[1:5000], ]
mads <- apply(expr_df, 1, mad)
expr_df <- expr_df[rev(order(mads))[1:5000], ]
expr_df <- sweep(expr_df, 1, apply(expr_df, 1, median, na.rm = TRUE))
results <- ConsensusClusterPlus(expr_df, maxK = 10, reps = 50,
pItem = 0.8, pFeature = 1,
title = "title", clusterAlg = "hc",
distance = "pearson", seed = 1262118388.71279,
plot = "png")
